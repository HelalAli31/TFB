<div class="admin-products-container">
  <h2>Manage Products</h2>

  <div class="search-container">
    <!-- Dropdown for Search Type -->
    <select [(ngModel)]="searchType" class="search-dropdown">
      <option value="name">🔤 Name</option>
      <option value="category">📁 Category</option>
      <option value="brand">🏷️ Brand</option>
    </select>

    <!-- Search Input -->
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="filterProducts()"
      placeholder="🔍 Search..."
      class="search-input"
    />
  </div>

  <!-- 📜 Scrollable Table -->
  <div class="table-wrapper">
    <table class="product-table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Name</th>
          <th>Brand</th>
          <th>Category</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of filteredProducts">
          <td>
            <img
              [src]="getProductImage(product)"
              alt="{{ product.name }}"
              class="product-img"
              (error)="onImageError($event, product)"
            />
          </td>
          <td>{{ product.name }}</td>
          <td>{{ product.brand }}</td>
          <td>{{ getCategoryName(product.category) }}</td>
          <td>{{ product.price }} ₪</td>
          <td>{{ product.quantity }}</td>
          <td>
            <button class="edit-btn" (click)="openEditDialog(product)">
              ✏️ Edit
            </button>
            <button class="delete-btn" (click)="deleteProduct(product._id)">
              🗑️ Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
