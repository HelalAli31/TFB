<div class="admin-products-container">
  <h2>Manage Products</h2>

  <!-- Search Bar -->
  <div class="search-bar">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      placeholder="Search products..."
      class="search-input"
    />
  </div>

  <!-- Product Table -->
  <div class="table-wrapper">
    <table class="product-table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Name</th>
          <th>Brand</th>
          <th>Category</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td>
            <img
              [src]="getProductImage(product)"
              alt="{{ product.name }}"
              class="product-img"
              (error)="onImageError($event, product)"
            />
          </td>
          <td>{{ product.name }}</td>
          <td>{{ product.brand }}</td>
          <td>{{ getCategoryName(product.category) }}</td>
          <td>{{ product.price }} ‚Ç™</td>
          <td>{{ product.quantity }}</td>
          <td>
            <button class="edit-btn" (click)="openEditDialog(product)">
              ‚úèÔ∏è Edit
            </button>
            <button class="delete-btn" (click)="deleteProduct(product._id)">
              üóëÔ∏è Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Edit Product Modal -->
  <div class="modal" *ngIf="editingProduct">
    <div class="modal-content">
      <h3>Edit Product</h3>
      <label>Product Name</label>
      <input type="text" [(ngModel)]="editingProduct.name" />

      <label>Price (‚Ç™)</label>
      <input type="number" [(ngModel)]="editingProduct.price" />

      <label>Quantity</label>
      <input type="number" [(ngModel)]="editingProduct.quantity" />

      <div class="modal-actions">
        <button class="save-btn" (click)="saveChanges()">Save</button>
        <button class="cancel-btn" (click)="editingProduct = null">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
